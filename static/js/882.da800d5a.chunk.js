/*! For license information please see 882.da800d5a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpickleball_courts=self.webpackChunkpickleball_courts||[]).push([[882],{5882:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(9950),l=a(2004),r=a(9800),n=a(6230);const o=(0,n.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),c=(0,n.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),i=(0,n.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var d=a(2828),m=a(983),x=a(4414);const u=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,l.$)(t))};function h(e){let{currentDate:t,bookings:a={},slots:l=[],onBookingClick:r}=e;const n=(0,s.useMemo)(()=>{const e=new Date(t),a=[];for(let t=0;t<7;t++)a.push(new Date(e)),e.setDate(e.getDate()+1);return a},[t]),h=(0,s.useMemo)(()=>{const e={},t=n[0].toLocaleDateString("en-CA"),s=n[6].toLocaleDateString("en-CA"),r={};return l.forEach(e=>{e.date>=t&&e.date<=s&&(r[e.bookingId]||(r[e.bookingId]=new Set),r[e.bookingId].add(e.date))}),Object.entries(r).forEach(t=>{let[s,l]=t;const r=a[s];r&&l.forEach(t=>{e[t]||(e[t]=[]),e[t].push(r)})}),e},[a,l,n]),g=e=>{const t=Math.floor(e/60),a=e%60,s=new Date;return s.setHours(t,a,0,0),s.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})};return(0,x.jsx)("div",{className:"flex flex-col h-full bg-slate-50 p-4 lg:p-6 overflow-y-auto",children:(0,x.jsx)("div",{className:"max-w-3xl mx-auto w-full space-y-8 pb-10",children:n.map(e=>{const t=e.toLocaleDateString("en-CA"),a=h[t]||[],s=(new Date).toLocaleDateString("en-CA")===t;return(0,x.jsxs)("div",{className:"space-y-3",children:[(0,x.jsxs)("div",{className:"flex items-baseline gap-3 border-b border-slate-200 pb-2",children:[(0,x.jsx)("h3",{className:u("text-lg font-bold",s?"text-slate-900":"text-slate-700"),children:e.toLocaleDateString("en-US",{weekday:"long"})}),(0,x.jsx)("span",{className:"text-sm font-medium text-slate-400",children:e.toLocaleDateString("en-US",{month:"long",day:"numeric"})})]}),0===a.length?(0,x.jsx)("div",{className:"text-xs text-slate-400 font-medium italic pl-1",children:"No bookings scheduled"}):(0,x.jsx)("div",{className:"space-y-3",children:a.map(e=>{var a,s,n,h;const b=((e,t)=>{const a=e.slotIds.map(e=>l.find(t=>t.slotId===e)).filter(Boolean).filter(e=>e.date===t);if(0===a.length)return null;a.sort((e,t)=>e.startTime-t.startTime);const s=a[0],r=a[a.length-1],n=Number(s.startTime),o=Number(r.endTime),c=[...new Set(a.map(e=>e.courtId))].sort((e,t)=>e-t);return{timeRange:"".concat(g(n)," - ").concat(g(o)),courtLabel:1===c.length?"Court ".concat(c[0]):"Courts ".concat(c.join(", ")),slotCount:a.length}})(e,t);if(!b)return null;const p="OPEN_PLAY_BLOCK"===e.type,f=e.paymentSummary||{},v=(f.amountPaid||0)>=(f.totalAmount||0)&&f.totalAmount>0,j=!v&&(f.amountPaid||0)>0,N=v?"PAID":j?"PARTIAL":"UNPAID";return(0,x.jsxs)("div",{onClick:()=>r(e.id),className:u("group relative bg-white rounded-lg border shadow-sm p-4 hover:shadow-md transition-all cursor-pointer flex flex-col sm:flex-row gap-4 sm:items-center",p?"border-slate-200 bg-slate-50/50":"PAID"===N?"border-emerald-100 hover:border-emerald-300":"PARTIAL"===N?"border-amber-200 hover:border-amber-300":"border-slate-200 hover:border-slate-400"),children:[(0,x.jsx)("div",{className:u("absolute left-0 top-0 bottom-0 w-1 rounded-l-lg",p?"bg-slate-300":"PAID"===N?"bg-emerald-500":"PARTIAL"===N?"bg-amber-500":"bg-slate-300")}),(0,x.jsxs)("div",{className:"min-w-[140px]",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2 text-slate-900 font-semibold",children:[(0,x.jsx)(o,{className:"h-4 w-4 text-slate-400"}),b.timeRange]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 mt-1",children:[(0,x.jsx)(c,{className:"h-3.5 w-3.5"}),b.courtLabel]})]}),(0,x.jsx)("div",{className:"flex-1",children:p?(0,x.jsx)("span",{className:"text-sm font-semibold text-slate-500 italic",children:"Open Play Block / Unavailable"}):(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:(null===(a=e.renter)||void 0===a?void 0:a.name)||"Unknown Renter"}),(null===(s=e.renter)||void 0===s?void 0:s.contact)&&(0,x.jsx)("div",{className:"text-xs text-slate-500 mt-0.5",children:e.renter.contact})]})}),(0,x.jsxs)("div",{className:"flex items-center justify-between sm:justify-end gap-4 min-w-[120px]",children:[!p&&(0,x.jsxs)("div",{className:"text-right",children:[(0,x.jsxs)("div",{className:u("inline-flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider","PAID"===N?"bg-emerald-100 text-emerald-700":"PARTIAL"===N?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"),children:["PAID"===N&&(0,x.jsx)(i,{className:"h-3 w-3"}),"PARTIAL"===N&&(0,x.jsx)(d.A,{className:"h-3 w-3"}),N]}),(0,x.jsxs)("div",{className:"text-xs font-semibold text-slate-900 mt-1",children:["PHP ",null===(n=e.paymentSummary)||void 0===n||null===(h=n.totalAmount)||void 0===h?void 0:h.toLocaleString()]})]}),(0,x.jsx)(m.A,{className:"h-4 w-4 text-slate-300 group-hover:text-slate-600 transition-colors"})]})]},e.id)})})]},t)})})})}}}]);