/*! For license information please see 979.80c59633.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpickleball_courts=self.webpackChunkpickleball_courts||[]).push([[979],{3979:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(9379),l=s(9950),n=s(6479),r=s(6230);const o=(0,r.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),c=(0,r.A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),i=(0,r.A)("split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]),d=(0,r.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var x=s(4414);function u(e){let{isOpen:t,onClose:s,selection:r,session:u,onSave:h,onDelete:m,onDetach:p}=e;const[b,v]=(0,l.useState)({renterName:"",paymentStatus:"unpaid",paymentMethod:null,amount:"",notes:"",courtIds:[]});if((0,l.useEffect)(()=>{t&&(u?v({renterName:u.renterName||"",paymentStatus:u.paymentStatus||"unpaid",paymentMethod:u.paymentMethod||null,amount:u.totalAmount||"",notes:u.notes||"",courtIds:u.courtIds||[]}):r&&v({renterName:"",paymentStatus:"unpaid",paymentMethod:null,amount:"",notes:"",courtIds:r.courtIds||[]}))},[t,u,r]),!t)return null;const f=!!u,y=f?"Edit Session":"New Booking",g=e=>{const t=Math.floor(e/60),s=e%60;return"".concat(t,":").concat(s.toString().padStart(2,"0"))},j=r?"".concat(g(r.startMinutes)," - ").concat(g(r.endMinutes)):u?"".concat(g(u.startMinutes)," - ").concat(g(u.endMinutes)):"";return(0,x.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end pointer-events-none",children:[(0,x.jsx)("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-[1px] pointer-events-auto transition-opacity",onClick:s}),(0,x.jsxs)("div",{className:"relative w-full max-w-md h-full bg-white shadow-2xl border-l border-slate-100 transform transition-transform duration-300 ease-in-out pointer-events-auto flex flex-col",children:[(0,x.jsxs)("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-white",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:y}),(0,x.jsx)("p",{className:"text-xs text-slate-500 font-mono mt-0.5",children:j})]}),(0,x.jsx)("button",{onClick:s,className:"p-2 rounded-full hover:bg-slate-50 text-slate-400 hover:text-slate-600 transition-colors",children:(0,x.jsx)(n.A,{className:"h-5 w-5"})})]}),(0,x.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400",children:"Renter Information"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:(0,x.jsx)(o,{className:"h-4 w-4 text-slate-400"})}),(0,x.jsx)("input",{type:"text",placeholder:"Search or enter name...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm font-medium focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition-all placeholder:text-slate-400",value:b.renterName,onChange:e=>v((0,a.A)((0,a.A)({},b),{},{renterName:e.target.value})),autoFocus:!0})]})]}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400",children:"Courts in Session"}),f&&(0,x.jsx)("span",{className:"text-[10px] text-slate-400 bg-slate-100 px-2 py-1 rounded",children:"Drag to Split unavailable"})]}),(0,x.jsx)("div",{className:"space-y-2",children:b.courtIds.map(e=>(0,x.jsxs)("div",{className:"group flex items-center justify-between p-3 rounded-lg border border-slate-200 bg-white hover:border-slate-300 transition-colors shadow-sm",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("div",{className:"p-1.5 rounded bg-slate-100 text-slate-400 cursor-grab active:cursor-grabbing",children:(0,x.jsx)(c,{className:"h-3 w-3"})}),(0,x.jsxs)("span",{className:"text-sm font-semibold text-slate-700",children:["Court ",e]})]}),p&&f&&b.courtIds.length>1&&(0,x.jsx)("button",{onClick:()=>p(e),className:"p-2 rounded hover:bg-slate-50 text-slate-300 hover:text-indigo-600 transition-colors opacity-0 group-hover:opacity-100",title:"Detach (Split) from this session",children:(0,x.jsx)(i,{className:"h-4 w-4"})})]},e))})]}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400",children:"Payment Status"}),(0,x.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-lg",children:["unpaid","paid","waived"].map(e=>(0,x.jsx)("button",{onClick:()=>v((0,a.A)((0,a.A)({},b),{},{paymentStatus:e})),className:"flex-1 py-1.5 text-xs font-semibold rounded-md capitalize transition-all ".concat(b.paymentStatus===e?"bg-white text-slate-900 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:text-slate-700"),children:e},e))}),"paid"===b.paymentStatus&&(0,x.jsx)("div",{className:"animate-in fade-in slide-in-from-top-2",children:(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,x.jsxs)("select",{className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm outline-none focus:border-slate-400",value:b.paymentMethod||"cash",onChange:e=>v((0,a.A)((0,a.A)({},b),{},{paymentMethod:e.target.value})),children:[(0,x.jsx)("option",{value:"cash",children:"Cash"}),(0,x.jsx)("option",{value:"gcash",children:"GCash"}),(0,x.jsx)("option",{value:"gotyme",children:"GoTyme"})]}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("span",{className:"absolute left-3 top-2 text-slate-400 text-xs",children:"\u20b1"}),(0,x.jsx)("input",{type:"number",className:"w-full pl-6 pr-3 py-2 bg-white border border-slate-200 rounded-lg text-sm outline-none focus:border-slate-400",placeholder:"Amount",value:b.amount,onChange:e=>v((0,a.A)((0,a.A)({},b),{},{amount:e.target.value}))})]})]})})]}),(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400",children:"Notes"}),(0,x.jsx)("textarea",{className:"w-full h-24 p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm resize-none outline-none focus:bg-white focus:border-slate-400 transition-colors",placeholder:"Add internal notes...",value:b.notes,onChange:e=>v((0,a.A)((0,a.A)({},b),{},{notes:e.target.value}))})]})]}),(0,x.jsxs)("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex items-center justify-between gap-4",children:[f?(0,x.jsx)("button",{onClick:()=>m&&m(u.id),className:"flex items-center justify-center p-3 rounded-xl bg-white border border-slate-200 text-red-600 hover:bg-red-50 hover:border-red-100 transition-all",children:(0,x.jsx)(d,{className:"h-5 w-5"})}):(0,x.jsx)("div",{}),(0,x.jsxs)("div",{className:"flex gap-3 flex-1 justify-end",children:[(0,x.jsx)("button",{onClick:s,className:"px-6 py-3 rounded-xl text-sm font-semibold text-slate-600 hover:bg-white hover:text-slate-900 transition-colors",children:"Cancel"}),(0,x.jsx)("button",{onClick:()=>h(b),className:"flex-1 max-w-[160px] px-6 py-3 rounded-xl bg-slate-900 text-white text-sm font-semibold shadow-lg hover:bg-slate-800 hover:shadow-xl hover:-translate-y-0.5 transition-all active:translate-y-0 active:shadow-sm",children:f?"Update":"Confirm Book"})]})]})]})]})}}}]);