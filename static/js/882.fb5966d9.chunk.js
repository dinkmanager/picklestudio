/*! For license information please see 882.fb5966d9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpickleball_courts=self.webpackChunkpickleball_courts||[]).push([[882],{2828:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5882:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(9950),l=s(2004),n=s(9800),r=s(6230);const o=(0,r.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),c=(0,r.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),i=(0,r.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var d=s(2828),m=s(983),x=s(4414);const u=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,l.$)(t))};function h(e){let{currentDate:t,bookings:s={},slots:l=[],onBookingClick:n}=e;const r=(0,a.useMemo)(()=>{const e=new Date(t),s=[];for(let t=0;t<7;t++)s.push(new Date(e)),e.setDate(e.getDate()+1);return s},[t]),h=(0,a.useMemo)(()=>{const e={},t=r[0],a=new Date(r[6]);a.setHours(23,59,59,999),t.setHours(0,0,0,0);new Set(l.map(e=>e.slotId));const n={};return l.forEach(e=>{const s=new Date(e.startTime);if(s>=t&&s<=a){const t=s.toLocaleDateString("en-CA");n[e.bookingId]||(n[e.bookingId]=new Set),n[e.bookingId].add(t)}}),Object.entries(n).forEach(t=>{let[a,l]=t;const n=s[a];n&&l.forEach(t=>{e[t]||(e[t]=[]),e[t].push(n)})}),e},[s,l,r]);return(0,x.jsx)("div",{className:"flex flex-col h-full bg-slate-50 p-4 lg:p-6 overflow-y-auto",children:(0,x.jsx)("div",{className:"max-w-3xl mx-auto w-full space-y-8 pb-10",children:r.map(e=>{const t=e.toLocaleDateString("en-CA"),s=h[t]||[],a=(new Date).toLocaleDateString("en-CA")===t;return(0,x.jsxs)("div",{className:"space-y-3",children:[(0,x.jsxs)("div",{className:"flex items-baseline gap-3 border-b border-slate-200 pb-2",children:[(0,x.jsx)("h3",{className:u("text-lg font-bold",a?"text-slate-900":"text-slate-700"),children:e.toLocaleDateString("en-US",{weekday:"long"})}),(0,x.jsx)("span",{className:"text-sm font-medium text-slate-400",children:e.toLocaleDateString("en-US",{month:"long",day:"numeric"})})]}),0===s.length?(0,x.jsx)("div",{className:"text-xs text-slate-400 font-medium italic pl-1",children:"No bookings scheduled"}):(0,x.jsx)("div",{className:"space-y-3",children:s.map(e=>{var s,a,r,h,g;const p=((e,t)=>{const s=e.slotIds.map(e=>l.find(t=>t.slotId===e)).filter(Boolean).filter(e=>new Date(e.startTime).toLocaleDateString("en-CA")===t);if(0===s.length)return null;s.sort((e,t)=>new Date(e.startTime)-new Date(t.startTime));const a=new Date(s[0].startTime),n=new Date(s[s.length-1].endTime),r=[...new Set(s.map(e=>e.courtId))].sort((e,t)=>e-t);return{timeRange:"".concat(a.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})," - ").concat(n.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})),courtLabel:1===r.length?"Court ".concat(r[0]):"Courts ".concat(r.join(", ")),slotCount:s.length}})(e,t);if(!p)return null;const b="OPEN_PLAY_BLOCK"===e.type,f=(null===(s=e.paymentSummary)||void 0===s?void 0:s.paymentStatus)||"UNPAID";return(0,x.jsxs)("div",{onClick:()=>n(e.id),className:u("group relative bg-white rounded-lg border shadow-sm p-4 hover:shadow-md transition-all cursor-pointer flex flex-col sm:flex-row gap-4 sm:items-center",b?"border-slate-200 bg-slate-50/50":"PAID"===f?"border-emerald-100 hover:border-emerald-300":"PARTIAL"===f?"border-amber-200 hover:border-amber-300":"border-slate-200 hover:border-slate-400"),children:[(0,x.jsx)("div",{className:u("absolute left-0 top-0 bottom-0 w-1 rounded-l-lg",b?"bg-slate-300":"PAID"===f?"bg-emerald-500":"PARTIAL"===f?"bg-amber-500":"bg-slate-300")}),(0,x.jsxs)("div",{className:"min-w-[140px]",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2 text-slate-900 font-semibold",children:[(0,x.jsx)(o,{className:"h-4 w-4 text-slate-400"}),p.timeRange]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 mt-1",children:[(0,x.jsx)(c,{className:"h-3.5 w-3.5"}),p.courtLabel]})]}),(0,x.jsx)("div",{className:"flex-1",children:b?(0,x.jsx)("span",{className:"text-sm font-semibold text-slate-500 italic",children:"Open Play Block / Unavailable"}):(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:(null===(a=e.renter)||void 0===a?void 0:a.name)||"Unknown Renter"}),(null===(r=e.renter)||void 0===r?void 0:r.contact)&&(0,x.jsx)("div",{className:"text-xs text-slate-500 mt-0.5",children:e.renter.contact})]})}),(0,x.jsxs)("div",{className:"flex items-center justify-between sm:justify-end gap-4 min-w-[120px]",children:[!b&&(0,x.jsxs)("div",{className:"text-right",children:[(0,x.jsxs)("div",{className:u("inline-flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider","PAID"===f?"bg-emerald-100 text-emerald-700":"PARTIAL"===f?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"),children:["PAID"===f&&(0,x.jsx)(i,{className:"h-3 w-3"}),"PARTIAL"===f&&(0,x.jsx)(d.A,{className:"h-3 w-3"}),f]}),(0,x.jsxs)("div",{className:"text-xs font-semibold text-slate-900 mt-1",children:["PHP ",null===(h=e.paymentSummary)||void 0===h||null===(g=h.totalAmount)||void 0===g?void 0:g.toLocaleString()]})]}),(0,x.jsx)(m.A,{className:"h-4 w-4 text-slate-300 group-hover:text-slate-600 transition-colors"})]})]},e.id)})})]},t)})})})}}}]);